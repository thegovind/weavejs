:root {
  --vp-c-bg: #0d1117;
  --vp-c-bg-soft: #161b22;
  --vp-c-bg-mute: #1c2333;
  --vp-c-bg-alt: #161b22;
  --vp-c-divider: #30363d;
  --vp-c-text-1: #e6edf3;
  --vp-c-text-2: #8b949e;
  --vp-c-text-3: #6e7681;
  --vp-c-brand-1: #6d5dfc;
  --vp-c-brand-2: #8b7cfd;
  --vp-c-brand-3: #a99dfe;
  --vp-c-brand-soft: rgba(109, 93, 252, 0.14);
  --vp-font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --vp-font-family-mono: 'JetBrains Mono', 'Fira Code', monospace;
}

.dark {
  --vp-c-bg: #0d1117;
  --vp-c-bg-soft: #161b22;
  --vp-c-bg-mute: #1c2333;
  --vp-c-bg-alt: #161b22;
}

/* Mermaid dark-mode overrides */
.mermaid {
  background: transparent !important;
}

.mermaid .node rect,
.mermaid .node circle,
.mermaid .node ellipse,
.mermaid .node polygon,
.mermaid .node path {
  fill: #2d333b !important;
  stroke: #6d5dfc !important;
}

.mermaid .nodeLabel,
.mermaid .label {
  color: #e6edf3 !important;
  fill: #e6edf3 !important;
}

.mermaid .edgeLabel {
  background-color: #1c2333 !important;
  color: #e6edf3 !important;
}

.mermaid .cluster rect {
  fill: #161b22 !important;
  stroke: #30363d !important;
}

.mermaid .cluster text {
  fill: #e6edf3 !important;
}

.mermaid .edgePath .path {
  stroke: #8b949e !important;
}

.mermaid marker path {
  fill: #8b949e !important;
  stroke: #8b949e !important;
}

.mermaid .flowchart-link {
  stroke: #8b949e !important;
}

.mermaid text {
  fill: #e6edf3 !important;
}

.mermaid .messageText {
  fill: #e6edf3 !important;
  stroke: none !important;
}

.mermaid .actor {
  fill: #2d333b !important;
  stroke: #6d5dfc !important;
}

.mermaid .actor-line {
  stroke: #8b949e !important;
}

.mermaid .labelBox {
  fill: #161b22 !important;
  stroke: #30363d !important;
}

.mermaid .loopLine {
  stroke: #30363d !important;
}

.mermaid line[id*="sequencenumber"] {
  stroke: #6d5dfc !important;
}

.mermaid .activation0,
.mermaid .activation1,
.mermaid .activation2 {
  fill: #1c2333 !important;
  stroke: #6d5dfc !important;
}

.mermaid .statediagram-state rect {
  fill: #2d333b !important;
  stroke: #6d5dfc !important;
}

.mermaid .stateLabel text {
  fill: #e6edf3 !important;
}

.mermaid .relation {
  stroke: #8b949e !important;
}

/* Zoom overlay */
.mermaid-zoom-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: rgba(13, 17, 23, 0.92);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.2s ease;
  backdrop-filter: blur(4px);
}

.mermaid-zoom-overlay.active {
  opacity: 1;
}

.mermaid-zoom-container {
  padding: 2rem;
  overflow: auto;
  max-width: 95vw;
  max-height: 95vh;
}

.mermaid-zoom-controls {
  position: fixed;
  top: 1rem;
  right: 1rem;
  display: flex;
  gap: 0.5rem;
}

.mermaid-zoom-controls button {
  background: #2d333b;
  color: #e6edf3;
  border: 1px solid #30363d;
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  cursor: pointer;
  font-size: 1rem;
  transition: all 0.15s ease;
}

.mermaid-zoom-controls button:hover {
  background: #6d5dfc;
  border-color: #6d5dfc;
}

/* Focus mode (F key) */
.focus-mode .VPSidebar,
.focus-mode .VPNav,
.focus-mode .VPDocFooter {
  display: none !important;
}

.focus-mode .VPDoc .container {
  max-width: 100% !important;
}

.focus-mode .VPContent {
  padding-left: 0 !important;
}
